<section class="w-[95%] mx-auto pt-20">
  <div class="flex justify-center my-3">
    <img
      src="../../../../../../assets/images/classes/WOrkouts.png"
      alt="WOrkouts"
    />
  </div>
  <div class="md:flex gap-6">
    <aside class="md:w-[30%] h-[80vh] space-y-4">
      <p-carousel
        [value]="musclesList"
        [numVisible]="4"
        [autoplayInterval]="3000"
      >
        <ng-template let-item pTemplate="item">
          <app-button-category
            [musclesList]="item"
            (click)="getExercisesDifficult(musclesId, item.id)"
          ></app-button-category>
        </ng-template>
      </p-carousel>
      <div
        class="mt-2 space-y-5 max-h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 cursor-pointer"
      >
        @for (exercise of exercisesList; track exercise._id) {
          <div
            class="flex justify-between items-center mt-2"
            (click)="selectedExercise(exercise)"
          >
            <div class="flex gap-3">
              <img
                src="../../../../../../assets/images/classes/muscles.png"
                alt="muscles"
              />
              <div>
                <p class="font-semibold mb-3">{{ exercise.body_region }}</p>
                <p>{{ exercise.exercise }}</p>
              </div>
            </div>
            <i
              class="fa-solid fa-circle-play fa-2x text-(--primary-color) cursor-pointer"
            ></i>
          </div>
        }
      </div>
    </aside>

    <main class="md:w-[70%]">
      @if (selectExercise) {
        <div class="rounded-xl overflow-hidden relative h-0 pb-[60%]">
          @if (safeVideoUrl) {
            <iframe
              class="absolute top-0 left-0 w-full h-full"
              [src]="safeVideoUrl"
              frameborder="0"
              allow="autoplay; encrypted-media"
            ></iframe>
          } @else {
            <div
              class="flex justify-center items-center p-60 bg-[#ddd] rounded-2xl"
            >
              <p>{{ "classes.video_not_available" | translate }}</p>
            </div>
          }
        </div>

        <div class="flex justify-center mb-3">
          <div class="flex items-center">
            <img
              src="../../../../../../assets/images/classes/row.png"
              alt="row"
            />
            <p class="font-semibold">
              {{ selectExercise.combination_exercises }}
            </p>
          </div>
          <div class="flex items-center">
            <img
              src="../../../../../../assets/images/classes/row.png"
              alt="row"
            />
            <p class="font-semibold">{{ selectExercise.foot_elevation }}</p>
          </div>
          <div class="flex items-center">
            <img
              src="../../../../../../assets/images/classes/row.png"
              alt="row"
            />
            <p class="font-semibold">
              {{ selectExercise.single_or_double_arm }}
            </p>
          </div>
        </div>
      }
      <app-category [mealsGroup]="mealsList"></app-category>
    </main>
  </div>
</section>
